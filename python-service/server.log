INFO:     Will watch for changes in these directories: ['/Users/nicvenettacci/Desktop/Thumbnail Lab/thumbnail-lab/python-service']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [32161] using WatchFiles
INFO:faiss.loader:Loading faiss with AVX2 support.
INFO:faiss.loader:Successfully loaded faiss with AVX2 support.
INFO:app.determinism:[DETERMINISTIC] Initializing deterministic mode
INFO:app.determinism:[DETERMINISTIC] Setting seeds to 42
INFO:app.determinism:[DETERMINISTIC] PyTorch seeds set
INFO:app.determinism:[DETERMINISTIC] Cache initialized at deterministic_cache
INFO:app.determinism:[DETERMINISTIC] Global normalizer initialized
INFO:app.main:[DETERMINISTIC] Mode: ENABLED
INFO:app.main:[DETERMINISTIC] Score version: v1.4-faiss-hybrid
INFO:app.main:[DETERMINISTIC] Model version: clip-vit-l14-v1.4-faiss-hybrid
INFO:     Started server process [32164]
INFO:     Waiting for application startup.
INFO:app.main:[Thumbscore.io] Starting up AI thumbnail scoring service...
INFO:app.main:[STARTUP] Temporarily skipping model initialization for faster startup...
INFO:app.main:[STARTUP] Models will be lazy-loaded on first request
INFO:app.main:[STARTUP] Temporarily skipping Brain initialization...
INFO:app.main:[STARTUP] Temporarily skipping FAISS initialization...
INFO:app.main:[FAISS] ⚠️ FAISS temporarily disabled for debugging
INFO:app.main:======================================================================
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Collect thumbnails and rebuild FAISS indices" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:Scheduler started:
INFO:app.main:  - Library refresh + FAISS index rebuilding: 3:00 AM Hobart time daily
INFO:     Application startup complete.
[ModelPipeline] Initializing on device: cpu
INFO:     127.0.0.1:50061 - "GET / HTTP/1.1" 200 OK
INFO:app.tasks.build_faiss_index:FAISS index path: faiss_indices
INFO:     127.0.0.1:50085 - "GET /internal/faiss-status HTTP/1.1" 200 OK
INFO:app.main:[ocr_debug] OCR model available: False
WARNING:app.main:[ocr_debug] OCR model is None - using intelligent fallback text detection
INFO:app.main:[OCR_FALLBACK] Image too small ((1, 1)), using default values
INFO:app.main:[face_debug] Face model available: False
INFO:app.main:[face_debug] Emotion model available: False
INFO:app.main:[FACE_FALLBACK] Image too small ((1, 1)), using default values
INFO:app.main:[CLIP] Generated deterministic embedding with seed 2241320167
INFO:app.main:[DETERMINISTIC] Cache hit for niche 'business' - returning cached score
INFO:app.main:[ocr_debug] OCR model available: False
WARNING:app.main:[ocr_debug] OCR model is None - using intelligent fallback text detection
INFO:app.main:[OCR_FALLBACK] Image too small ((1, 1)), using default values
INFO:app.main:[face_debug] Face model available: False
INFO:app.main:[face_debug] Emotion model available: False
INFO:app.main:[FACE_FALLBACK] Image too small ((1, 1)), using default values
INFO:app.main:[CLIP] Generated deterministic embedding with seed 2241320167
INFO:app.main:[DETERMINISTIC] Cache hit for niche 'business' - returning cached score
[Inference] Processing 2 thumbnails for: 'How to Make $100K Per Month - Business Strategy'
[Inference] Analyzing thumbnail thumb1 for niche 'business'...
[Inference] Features extracted successfully
[Inference] Prediction completed, subscores keys: ['similarity', 'power_words', 'brain_weighted', 'clarity', 'subject_prominence', 'contrast_pop', 'emotion', 'hierarchy', 'title_match']
[Inference] Analyzing thumbnail thumb2 for niche 'business'...
[Inference] Features extracted successfully
[Inference] Prediction completed, subscores keys: ['similarity', 'power_words', 'brain_weighted', 'clarity', 'subject_prominence', 'contrast_pop', 'emotion', 'hierarchy', 'title_match']
[Inference] Completed in 25ms. Winner: thumb1 (78.0%)
INFO:     127.0.0.1:50138 - "POST /v1/score HTTP/1.1" 200 OK
